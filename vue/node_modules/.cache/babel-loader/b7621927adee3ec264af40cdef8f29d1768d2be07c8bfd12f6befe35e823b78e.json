{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport appBridge from './mixins/app-bridge';\nimport AppLoader from '@/components/main/AppLoader';\nimport { useStore } from 'vuex';\nimport { computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { watch } from 'vue';\nexport default {\n  __name: 'App',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    var store = useStore();\n    var router = useRouter();\n    // const isDark = useDark();\n    // const toggleDark = useToggle(isDark);\n    // toggleDark();\n    // console.log('darkMode', JSON.stringify(isDark.value));\n\n    var loading = computed(() => store.state.Auth.loading);\n    var entry = computed(() => store.state.Auth.entry);\n    var agreement = computed(() => store.state.Auth.agreement);\n    var guest = computed(() => store.state.Auth.guest);\n    var theme = computed(() => store.state.Auth.theme);\n\n    // // Testing block START\n    // //--------------------------------------------------------------------------------------------------\n\n    // // This authData and authentificate of it below are necessary for entry in browser (for developing)\n    var authData = {\n      uid: 'kjsdhfkjshdf ksdkjf',\n      firebase_token: ';osdhffsdhf',\n      theme_mode: 'light',\n      lang: 'es',\n      google_id_token: '',\n      google_access_token: '',\n      platform: 'ios',\n      apple_user_id: '',\n      agreement: true\n    };\n    setTimeout(() => {\n      console.log('TRANSFER AUTH_DATA TO THE APP', JSON.stringify(authData));\n      return store.dispatch('Auth/authenticate', authData);\n    }, 4000);\n\n    // // Testing block END\n    // // --------------------------------------------------------------------------------------------------\n\n    appBridge.methods.nativeWaitForEvent('authToken', authData => {\n      store.dispatch('Auth/authenticate', authData);\n    });\n    appBridge.methods.nativeWaitForEvent('authTokenListen', authData => {\n      store.dispatch('Auth/authenticate', authData);\n      store.dispatch('Auth/newGoogleAuth');\n    });\n    watch(entry, (newEntry, oldEntry) => {\n      if (newEntry === 1) {\n        router.push({\n          name: 'TermsOfUseView'\n        });\n      }\n      if (newEntry === 0) {\n        store.dispatch('Auth/getAnswers');\n        // store.dispatch('Auth/getSelectedPlan');\n        store.dispatch('Auth/getCalendar');\n        store.dispatch('Auth/getOvulation');\n        store.dispatch('Auth/getFertileDates');\n        store.dispatch('Auth/getNotesArr');\n      }\n    });\n    watch(agreement, (newAgreement, oldAgreement) => {\n      if (newAgreement === 1) {\n        router.push({\n          name: 'AuthorizationView'\n        });\n      }\n    });\n    watch(guest, (newGuest, oldGuest) => {\n      if (newGuest === 0) {\n        router.push({\n          name: 'HomeView'\n        });\n      }\n    });\n    watch(theme, (newTheme, oldTheme) => {\n      if (newTheme == 'dark') {\n        document.body.classList.add(newTheme);\n      } else {\n        document.body.classList.remove('dark');\n      }\n    });\n    var __returned__ = {\n      store,\n      router,\n      loading,\n      entry,\n      agreement,\n      guest,\n      theme,\n      get authData() {\n        return authData;\n      },\n      set authData(v) {\n        authData = v;\n      },\n      get appBridge() {\n        return appBridge;\n      },\n      get AppLoader() {\n        return AppLoader;\n      },\n      get useStore() {\n        return useStore;\n      },\n      computed,\n      get useRouter() {\n        return useRouter;\n      },\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["appBridge","AppLoader","useStore","computed","useRouter","watch","store","router","loading","state","Auth","entry","agreement","guest","theme","authData","uid","firebase_token","theme_mode","lang","google_id_token","google_access_token","platform","apple_user_id","setTimeout","console","log","JSON","stringify","dispatch","methods","nativeWaitForEvent","newEntry","oldEntry","push","name","newAgreement","oldAgreement","newGuest","oldGuest","newTheme","oldTheme","document","body","classList","add","remove"],"sources":["D:/soft/ospanel/domains/wmn-calendar.itserve.es/src/App.vue"],"sourcesContent":["<template>\r\n\t<van-config-provider :theme=\"theme\" class=\"h-full\">\r\n\t\t<van-row\r\n\t\t\tclass=\"h-full bg-light dark:bg-dark bg-no-repeat bg-clip-border bg-origin-border bg-center bg-cover\"\r\n\t\t\tjustify=\"center\"\r\n\t\t>\r\n\t\t\t<van-col span=\"24\" class=\"h-full\">\r\n\t\t\t\t<AppLoader :show=\"loading\" />\r\n\t\t\t\t<router-view />\r\n\t\t\t</van-col>\r\n\t\t</van-row>\r\n\t</van-config-provider>\r\n</template>\r\n<script setup>\r\nimport appBridge from './mixins/app-bridge';\r\nimport AppLoader from '@/components/main/AppLoader';\r\nimport { useStore } from 'vuex';\r\nimport { computed } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { watch } from 'vue';\r\n\r\nconst store = useStore();\r\nconst router = useRouter();\r\n// const isDark = useDark();\r\n// const toggleDark = useToggle(isDark);\r\n// toggleDark();\r\n// console.log('darkMode', JSON.stringify(isDark.value));\r\n\r\nconst loading = computed(() => store.state.Auth.loading);\r\nconst entry = computed(() => store.state.Auth.entry);\r\nconst agreement = computed(() => store.state.Auth.agreement);\r\nconst guest = computed(() => store.state.Auth.guest);\r\nconst theme = computed(() => store.state.Auth.theme);\r\n\r\n// // Testing block START\r\n// //--------------------------------------------------------------------------------------------------\r\n\r\n// // This authData and authentificate of it below are necessary for entry in browser (for developing)\r\nlet authData = {\r\n\tuid: 'kjsdhfkjshdf ksdkjf',\r\n\tfirebase_token: ';osdhffsdhf',\r\n\ttheme_mode: 'light',\r\n\tlang: 'es',\r\n\tgoogle_id_token: '',\r\n\tgoogle_access_token: '',\r\n\tplatform: 'ios',\r\n\tapple_user_id: '',\r\n\tagreement: true,\r\n};\r\n\r\nsetTimeout(() => {\r\n\tconsole.log('TRANSFER AUTH_DATA TO THE APP', JSON.stringify(authData));\r\n\treturn store.dispatch('Auth/authenticate', authData);\r\n}, 4000);\r\n\r\n// // Testing block END\r\n// // --------------------------------------------------------------------------------------------------\r\n\r\nappBridge.methods.nativeWaitForEvent('authToken', authData => {\r\n\tstore.dispatch('Auth/authenticate', authData);\r\n});\r\n\r\nappBridge.methods.nativeWaitForEvent('authTokenListen', authData => {\r\n\tstore.dispatch('Auth/authenticate', authData);\r\n\tstore.dispatch('Auth/newGoogleAuth');\r\n});\r\n\r\nwatch(entry, (newEntry, oldEntry) => {\r\n\tif (newEntry === 1) {\r\n\t\trouter.push({ name: 'TermsOfUseView' });\r\n\t}\r\n\tif (newEntry === 0) {\r\n\t\tstore.dispatch('Auth/getAnswers');\r\n\t\t// store.dispatch('Auth/getSelectedPlan');\r\n\t\tstore.dispatch('Auth/getCalendar');\r\n\t\tstore.dispatch('Auth/getOvulation');\r\n\t\tstore.dispatch('Auth/getFertileDates');\r\n\t\tstore.dispatch('Auth/getNotesArr');\r\n\t}\r\n});\r\n\r\nwatch(agreement, (newAgreement, oldAgreement) => {\r\n\tif (newAgreement === 1) {\r\n\t\trouter.push({ name: 'AuthorizationView' });\r\n\t}\r\n});\r\n\r\nwatch(guest, (newGuest, oldGuest) => {\r\n\tif (newGuest === 0) {\r\n\t\trouter.push({ name: 'HomeView' });\r\n\t}\r\n});\r\n\r\nwatch(theme, (newTheme, oldTheme) => {\r\n\tif (newTheme == 'dark') {\r\n\t\tdocument.body.classList.add(newTheme);\r\n\t} else {\r\n\t\tdocument.body.classList.remove('dark');\r\n\t}\r\n});\r\n</script>\r\n<style>\r\n:root {\r\n\t--van-primary-color: rgba(236, 101, 124, 1);\r\n\t--van-background-2: white;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}