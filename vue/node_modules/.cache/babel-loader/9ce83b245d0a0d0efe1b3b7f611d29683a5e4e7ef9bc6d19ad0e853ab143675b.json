{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport CalendarComponent from '@/components/CalendarComponent.vue';\nimport secondaryFunctions from '@/mixins/secondary-functions';\nimport calendarFunctions from '@/mixins/calendar-functions';\nimport { ref } from 'vue';\nimport { computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nexport default {\n  __name: 'CalendarView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    var store = useStore();\n    var router = useRouter();\n    var currentDate = new Date(secondaryFunctions.methods.formatter(new Date()));\n    var initial_page = {\n      month: currentDate.getMonth() + 1,\n      year: currentDate.getFullYear()\n    };\n    var disabledDates = ref([{\n      start: new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate() + 1),\n      end: null\n    }]);\n    var calendar = computed(() => store.state.Auth.calendar);\n    var ovulation = computed(() => store.state.Auth.ovulation);\n    var fertileDates = computed(() => store.state.Auth.fertileDates);\n    var answers = computed(() => store.state.Auth.answers);\n    var attributes = ref(calendarFunctions.methods.getAttrs(calendar.value, ovulation.value, fertileDates.value, currentDate));\n    var activeDay = ref(store.state.Auth.notes.date);\n    function dayClick(day) {\n      if (!(new Date(day.id).getTime() > currentDate.getTime())) {\n        activeDay.value = day.id;\n        var i = calendarFunctions.methods.doesHaveDate(calendar.value, day.id);\n        if (i == -1) {\n          calendar.value.push({\n            date: day.id\n          });\n        } else {\n          calendar.value.splice(i, 1);\n        }\n        store.dispatch('Auth/setActiveDay', day.id);\n      } else {\n        activeDay.value = null;\n        store.dispatch('Auth/setActiveDay', null);\n        store.dispatch('Auth/setNotes', patternNote);\n      }\n      attributes.value = calendarFunctions.methods.getAttrs(calendar.value, ovulation.value, fertileDates.value, currentDate);\n      store.dispatch('Auth/updateCalendar', calendarFunctions.methods.addIndexDay(calendarFunctions.methods.sortDates(calendar.value)));\n    }\n    function onClickLeft() {\n      router.back();\n    }\n    function onClickRight() {\n      router.push({\n        name: 'SettingsView'\n      });\n    }\n    var __returned__ = {\n      store,\n      router,\n      currentDate,\n      initial_page,\n      disabledDates,\n      calendar,\n      ovulation,\n      fertileDates,\n      answers,\n      attributes,\n      activeDay,\n      dayClick,\n      onClickLeft,\n      onClickRight,\n      CalendarComponent,\n      get secondaryFunctions() {\n        return secondaryFunctions;\n      },\n      get calendarFunctions() {\n        return calendarFunctions;\n      },\n      ref,\n      computed,\n      get useRouter() {\n        return useRouter;\n      },\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["CalendarComponent","secondaryFunctions","calendarFunctions","ref","computed","useRouter","useStore","store","router","currentDate","Date","methods","formatter","initial_page","month","getMonth","year","getFullYear","disabledDates","start","getDate","end","calendar","state","Auth","ovulation","fertileDates","answers","attributes","getAttrs","value","activeDay","notes","date","dayClick","day","id","getTime","i","doesHaveDate","push","splice","dispatch","patternNote","addIndexDay","sortDates","onClickLeft","back","onClickRight","name"],"sources":["D:/soft/ospanel/domains/wmn-calendar.itserve.es/src/views/CalendarView.vue"],"sourcesContent":["<template>\r\n\t<div class=\"w-full h-full\">\r\n\t\t<van-nav-bar\r\n\t\t\tleft-arrow\r\n\t\t\t:left-text=\"$t('buttons.go_back')\"\r\n\t\t\t@click-left=\"onClickLeft\"\r\n\t\t\t@click-right=\"onClickRight\"\r\n\t\t>\r\n\t\t\t<template #right>\r\n\t\t\t\t<van-icon name=\"setting\" size=\"30\" />\r\n\t\t\t</template>\r\n\t\t</van-nav-bar>\r\n\t\t<div class=\"flex flex-col items-center px-5\">\r\n\t\t\t<CalendarComponent\r\n\t\t\t\t:initial_page=\"initial_page\"\r\n\t\t\t\t:disabled-dates=\"disabledDates\"\r\n\t\t\t\t:rows=\"2\"\r\n\t\t\t\t:attributes=\"attributes\"\r\n\t\t\t\t:currentDate=\"currentDate\"\r\n\t\t\t\t@click=\"dayClick\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport CalendarComponent from '@/components/CalendarComponent.vue';\r\nimport secondaryFunctions from '@/mixins/secondary-functions';\r\nimport calendarFunctions from '@/mixins/calendar-functions';\r\nimport { ref } from 'vue';\r\nimport { computed } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\n\r\nconst store = useStore();\r\nconst router = useRouter();\r\nconst currentDate = new Date(secondaryFunctions.methods.formatter(new Date()));\r\nconst initial_page = {\r\n\tmonth: currentDate.getMonth() + 1,\r\n\tyear: currentDate.getFullYear(),\r\n};\r\nconst disabledDates = ref([\r\n\t{\r\n\t\tstart: new Date(\r\n\t\t\tcurrentDate.getFullYear(),\r\n\t\t\tcurrentDate.getMonth(),\r\n\t\t\tcurrentDate.getDate() + 1\r\n\t\t),\r\n\t\tend: null,\r\n\t},\r\n]);\r\nconst calendar = computed(() => store.state.Auth.calendar);\r\nconst ovulation = computed(() => store.state.Auth.ovulation);\r\nconst fertileDates = computed(() => store.state.Auth.fertileDates);\r\nconst answers = computed(() => store.state.Auth.answers);\r\n\r\nconst attributes = ref(\r\n\tcalendarFunctions.methods.getAttrs(\r\n\t\tcalendar.value,\r\n\t\tovulation.value,\r\n\t\tfertileDates.value,\r\n\t\tcurrentDate\r\n\t)\r\n);\r\nconst activeDay = ref(store.state.Auth.notes.date);\r\n\r\nfunction dayClick(day) {\r\n\tif (!(new Date(day.id).getTime() > currentDate.getTime())) {\r\n\t\tactiveDay.value = day.id;\r\n\t\tlet i = calendarFunctions.methods.doesHaveDate(calendar.value, day.id);\r\n\t\tif (i == -1) {\r\n\t\t\tcalendar.value.push({ date: day.id });\r\n\t\t} else {\r\n\t\t\tcalendar.value.splice(i, 1);\r\n\t\t}\r\n\t\tstore.dispatch('Auth/setActiveDay', day.id);\r\n\t} else {\r\n\t\tactiveDay.value = null;\r\n\t\tstore.dispatch('Auth/setActiveDay', null);\r\n\t\tstore.dispatch('Auth/setNotes', patternNote);\r\n\t}\r\n\tattributes.value = calendarFunctions.methods.getAttrs(\r\n\t\tcalendar.value,\r\n\t\tovulation.value,\r\n\t\tfertileDates.value,\r\n\t\tcurrentDate\r\n\t);\r\n\tstore.dispatch(\r\n\t\t'Auth/updateCalendar',\r\n\t\tcalendarFunctions.methods.addIndexDay(\r\n\t\t\tcalendarFunctions.methods.sortDates(calendar.value)\r\n\t\t)\r\n\t);\r\n}\r\n\r\nfunction onClickLeft() {\r\n\trouter.back();\r\n}\r\n\r\nfunction onClickRight() {\r\n\trouter.push({ name: 'SettingsView' });\r\n}\r\n</script>\r\n\r\n<style></style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}