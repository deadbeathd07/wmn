{"ast":null,"code":"import payment from \"@/plugins/api/factories/Payment\";\nexport var state = {\n  paymentResponse: null,\n  paymentData: {\n    amount: null,\n    app_id: process.env.VUE_APP_EASYPAY_APP_ID,\n    ls: null,\n    save_card: false,\n    card_token: null\n  },\n  cards: [],\n  paymentUrl: null,\n  addCardUrl: null\n};\nexport var actions = {\n  async getPaymentPage({\n    commit,\n    state\n  }) {\n    console.log(\"CHLENIX state.paymentData: \" + JSON.stringify(state.paymentData));\n    return await payment.getPaymentUrl(state.paymentData, async response => {\n      console.log(\"CHLENIX getPaymentUrl: \" + response.url);\n      commit(\"SET_PAYMENT_URL\", response.url);\n      commit(\"SET_PAYMENT_RESPONSE\", response);\n    });\n  },\n  async getCardsList({\n    commit\n  }) {\n    await payment.getEasyPayCardsList(response => {\n      commit(\"SET_PAYMENT_CARDS\", response.cards ? response.cards : []);\n    });\n  },\n  async deleteCard(store, cardToken) {\n    return await payment.deleteCard({\n      card_token: cardToken\n    }, res => {\n      return res;\n    });\n  },\n  async getSaveCardPage({\n    commit\n  }) {\n    await payment.getEasyPaySaveCardsPage(response => {\n      console.log(\"CHLENIX getEasyPaySaveCardsPage: \" + response.url);\n      commit(\"SET_ADD_CARD_URL\", response.url);\n    });\n  }\n};\nexport var mutations = {\n  SET_PAYMENT_RESPONSE(state, response) {\n    state.paymentResponse = response;\n  },\n  SET_PAYMENT_CARDS(state, cards) {\n    state.cards = cards;\n  },\n  SET_CARD_TOKEN(state, token) {\n    state.paymentData.card_token = token;\n  },\n  SET_SAVE_CARD(state, type) {\n    state.paymentData.save_card = type;\n  },\n  SET_PAYMENT_URL(state, url) {\n    state.paymentUrl = url;\n  },\n  UPDATE_AMOUNT(state, amount) {\n    state.paymentData.amount = amount <= 0 ? 10 : amount;\n  },\n  SET_USER_LS(state, ls) {\n    state.paymentData.ls = ls;\n  },\n  SET_ADD_CARD_URL(state, url) {\n    state.addCardUrl = url;\n    console.log(\"CHLENIX SET_ADD_CARD_URL: \" + JSON.stringify(state.addCardUrl));\n  }\n};","map":{"version":3,"names":["payment","state","paymentResponse","paymentData","amount","app_id","process","env","VUE_APP_EASYPAY_APP_ID","ls","save_card","card_token","cards","paymentUrl","addCardUrl","actions","getPaymentPage","commit","console","log","JSON","stringify","getPaymentUrl","response","url","getCardsList","getEasyPayCardsList","deleteCard","store","cardToken","res","getSaveCardPage","getEasyPaySaveCardsPage","mutations","SET_PAYMENT_RESPONSE","SET_PAYMENT_CARDS","SET_CARD_TOKEN","token","SET_SAVE_CARD","type","SET_PAYMENT_URL","UPDATE_AMOUNT","SET_USER_LS","SET_ADD_CARD_URL"],"sources":["D:/working/wmn-calendar.itserve.es/src/store/modules/Payment.js"],"sourcesContent":["import payment from \"@/plugins/api/factories/Payment\";\r\n\r\nexport const state = {\r\n  paymentResponse: null,\r\n  paymentData: {\r\n    amount: null,\r\n    app_id: process.env.VUE_APP_EASYPAY_APP_ID,\r\n    ls: null,\r\n    save_card: false,\r\n    card_token: null,\r\n  },\r\n  cards: [],\r\n  paymentUrl: null,\r\n  addCardUrl: null,\r\n};\r\n\r\nexport const actions = {\r\n  async getPaymentPage({ commit, state }) {\r\n    console.log(\r\n      \"CHLENIX state.paymentData: \" + JSON.stringify(state.paymentData)\r\n    );\r\n    return await payment.getPaymentUrl(state.paymentData, async (response) => {\r\n      console.log(\"CHLENIX getPaymentUrl: \" + response.url);\r\n      commit(\"SET_PAYMENT_URL\", response.url);\r\n      commit(\"SET_PAYMENT_RESPONSE\", response);\r\n    });\r\n  },\r\n  async getCardsList({ commit }) {\r\n    await payment.getEasyPayCardsList((response) => {\r\n      commit(\"SET_PAYMENT_CARDS\", response.cards ? response.cards : []);\r\n    });\r\n  },\r\n  async deleteCard(store, cardToken) {\r\n    return await payment.deleteCard({ card_token: cardToken }, (res) => {\r\n      return res;\r\n    });\r\n  },\r\n  async getSaveCardPage({ commit }) {\r\n    await payment.getEasyPaySaveCardsPage((response) => {\r\n      console.log(\"CHLENIX getEasyPaySaveCardsPage: \" + response.url);\r\n      commit(\"SET_ADD_CARD_URL\", response.url);\r\n    });\r\n  },\r\n};\r\n\r\nexport const mutations = {\r\n  SET_PAYMENT_RESPONSE(state, response) {\r\n    state.paymentResponse = response;\r\n  },\r\n  SET_PAYMENT_CARDS(state, cards) {\r\n    state.cards = cards;\r\n  },\r\n  SET_CARD_TOKEN(state, token) {\r\n    state.paymentData.card_token = token;\r\n  },\r\n  SET_SAVE_CARD(state, type) {\r\n    state.paymentData.save_card = type;\r\n  },\r\n  SET_PAYMENT_URL(state, url) {\r\n    state.paymentUrl = url;\r\n  },\r\n  UPDATE_AMOUNT(state, amount) {\r\n    state.paymentData.amount = amount <= 0 ? 10 : amount;\r\n  },\r\n  SET_USER_LS(state, ls) {\r\n    state.paymentData.ls = ls;\r\n  },\r\n  SET_ADD_CARD_URL(state, url) {\r\n    state.addCardUrl = url;\r\n    console.log(\r\n      \"CHLENIX SET_ADD_CARD_URL: \" + JSON.stringify(state.addCardUrl)\r\n    );\r\n  },\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}