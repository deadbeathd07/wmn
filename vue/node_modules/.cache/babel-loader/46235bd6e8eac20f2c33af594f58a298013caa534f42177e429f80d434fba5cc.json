{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport CalendarComponent from '@/components/CalendarComponent.vue';\nimport NotesList from '@/components/NotesList.vue';\nimport secondaryFunctions from '@/mixins/secondary-functions';\nimport calendarFunctions from '@/mixins/calendar-functions';\nimport { computed, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nexport default {\n  __name: 'HomeView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    var store = useStore();\n    var router = useRouter();\n    var currentDate = new Date(secondaryFunctions.methods.formatter(new Date()));\n    var calendar = computed(() => store.state.Auth.calendar);\n    var ovulation = computed(() => store.state.Auth.ovulation);\n    var fertileDates = computed(() => store.state.Auth.fertileDates);\n    var notesArr = computed(() => store.state.Auth.notesArr);\n    var note = computed(() => store.state.Auth.notes);\n    var attributes = ref(calendarFunctions.methods.getAttrsWithNotes(calendar.value, ovulation.value, fertileDates.value, notesArr.value, currentDate));\n    var activeDay = ref(store.state.Auth.notes.date);\n    var patternNote = {\n      date: null,\n      sexual_act_protected: null,\n      sexual_act_unprotected: null,\n      orgasm: null,\n      pills: null,\n      notes: null,\n      symptoms: null,\n      temperature: null,\n      weight: null,\n      water: 0,\n      mood: null\n    };\n    function dayClick(day) {\n      if (!(new Date(day.id).getTime() > currentDate.getTime())) {\n        activeDay.value = day.id;\n        var j = calendarFunctions.methods.doesHaveDate(notesArr.value, day.id);\n        if (j == -1) {\n          store.dispatch('Auth/setNotes', patternNote);\n        } else {\n          store.dispatch('Auth/setNotes', notesArr.value[j]);\n        }\n        store.dispatch('Auth/setActiveDay', day.id);\n      } else {\n        activeDay.value = null;\n        store.dispatch('Auth/setActiveDay', null);\n        store.dispatch('Auth/setNotes', patternNote);\n      }\n      attributes.value = calendarFunctions.methods.getAttrsWithNotes(calendar.value, ovulation.value, fertileDates.value, notesArr.value, currentDate);\n    }\n    function onClickActiveDay() {\n      if (activeDay.value) {\n        router.push({\n          name: 'NotesView'\n        });\n      }\n    }\n    function onClickRight() {\n      router.push({\n        name: 'SettingsView'\n      });\n    }\n    var __returned__ = {\n      store,\n      router,\n      currentDate,\n      calendar,\n      ovulation,\n      fertileDates,\n      notesArr,\n      note,\n      attributes,\n      activeDay,\n      patternNote,\n      dayClick,\n      onClickActiveDay,\n      onClickRight,\n      CalendarComponent,\n      NotesList,\n      get secondaryFunctions() {\n        return secondaryFunctions;\n      },\n      get calendarFunctions() {\n        return calendarFunctions;\n      },\n      computed,\n      ref,\n      get useRouter() {\n        return useRouter;\n      },\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["CalendarComponent","NotesList","secondaryFunctions","calendarFunctions","computed","ref","useRouter","useStore","store","router","currentDate","Date","methods","formatter","calendar","state","Auth","ovulation","fertileDates","notesArr","note","notes","attributes","getAttrsWithNotes","value","activeDay","date","patternNote","sexual_act_protected","sexual_act_unprotected","orgasm","pills","symptoms","temperature","weight","water","mood","dayClick","day","id","getTime","j","doesHaveDate","dispatch","onClickActiveDay","push","name","onClickRight"],"sources":["D:/working/wmn-calendar.itserve.es/src/views/HomeView.vue"],"sourcesContent":["<template>\r\n\t<div class=\"w-full h-full\">\r\n\t\t<van-nav-bar @click-right=\"onClickRight\">\r\n\t\t\t<template #right>\r\n\t\t\t\t<van-icon name=\"setting\" size=\"30\" />\r\n\t\t\t</template>\r\n\t\t</van-nav-bar>\r\n\t\t<div class=\"flex flex-col items-center px-5\">\r\n\t\t\t<CalendarComponent\r\n\t\t\t\t:attributes=\"attributes\"\r\n\t\t\t\t:currentDate=\"currentDate\"\r\n\t\t\t\t@click=\"dayClick\"\r\n\t\t\t/>\r\n\t\t\t<van-button\r\n\t\t\t\ticon=\"edit\"\r\n\t\t\t\tround\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tclass=\"mb-2\"\r\n\t\t\t\t:to=\"{ name: 'CalendarView' }\"\r\n\t\t\t\t>{{ $t('buttons.change_period_dates') }}</van-button\r\n\t\t\t>\r\n\t\t\t<div\r\n\t\t\t\tclass=\"w-48 h-48 bg-note-light dark:bg-note-dark bg-no-repeat bg-clip-border bg-origin-border bg-center bg-cover flex flex-col items-center justify-center\"\r\n\t\t\t\t@click=\"onClickActiveDay\"\r\n\t\t\t>\r\n\t\t\t\t<p class=\"text-decor text-3xl text-center underline dark:text-white\">\r\n\t\t\t\t\t{{ activeDay }}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p class=\"text-decor text-3xl text-center underline dark:text-white\">\r\n\t\t\t\t\t{{ $t('buttons.add_note') }}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<NotesList :note=\"note\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script setup>\r\nimport CalendarComponent from '@/components/CalendarComponent.vue';\r\nimport NotesList from '@/components/NotesList.vue';\r\nimport secondaryFunctions from '@/mixins/secondary-functions';\r\nimport calendarFunctions from '@/mixins/calendar-functions';\r\nimport { computed, ref } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\n\r\nconst store = useStore();\r\nconst router = useRouter();\r\n\r\nconst currentDate = new Date(secondaryFunctions.methods.formatter(new Date()));\r\nconst calendar = computed(() => store.state.Auth.calendar);\r\nconst ovulation = computed(() => store.state.Auth.ovulation);\r\nconst fertileDates = computed(() => store.state.Auth.fertileDates);\r\nconst notesArr = computed(() => store.state.Auth.notesArr);\r\nconst note = computed(() => store.state.Auth.notes);\r\n\r\nconst attributes = ref(\r\n\tcalendarFunctions.methods.getAttrsWithNotes(\r\n\t\tcalendar.value,\r\n\t\tovulation.value,\r\n\t\tfertileDates.value,\r\n\t\tnotesArr.value,\r\n\t\tcurrentDate\r\n\t)\r\n);\r\nconst activeDay = ref(store.state.Auth.notes.date);\r\n\r\nconst patternNote = {\r\n\tdate: null,\r\n\tsexual_act_protected: null,\r\n\tsexual_act_unprotected: null,\r\n\torgasm: null,\r\n\tpills: null,\r\n\tnotes: null,\r\n\tsymptoms: null,\r\n\ttemperature: null,\r\n\tweight: null,\r\n\twater: 0,\r\n\tmood: null,\r\n};\r\n\r\nfunction dayClick(day) {\r\n\tif (!(new Date(day.id).getTime() > currentDate.getTime())) {\r\n\t\tactiveDay.value = day.id;\r\n\t\tlet j = calendarFunctions.methods.doesHaveDate(notesArr.value, day.id);\r\n\t\tif (j == -1) {\r\n\t\t\tstore.dispatch('Auth/setNotes', patternNote);\r\n\t\t} else {\r\n\t\t\tstore.dispatch('Auth/setNotes', notesArr.value[j]);\r\n\t\t}\r\n\t\tstore.dispatch('Auth/setActiveDay', day.id);\r\n\t} else {\r\n\t\tactiveDay.value = null;\r\n\t\tstore.dispatch('Auth/setActiveDay', null);\r\n\t\tstore.dispatch('Auth/setNotes', patternNote);\r\n\t}\r\n\tattributes.value = calendarFunctions.methods.getAttrsWithNotes(\r\n\t\tcalendar.value,\r\n\t\tovulation.value,\r\n\t\tfertileDates.value,\r\n\t\tnotesArr.value,\r\n\t\tcurrentDate\r\n\t);\r\n}\r\n\r\nfunction onClickActiveDay() {\r\n\tif (activeDay.value) {\r\n\t\trouter.push({ name: 'NotesView' });\r\n\t}\r\n}\r\n\r\nfunction onClickRight() {\r\n\trouter.push({ name: 'SettingsView' });\r\n}\r\n</script>\r\n<style scoped>\r\n.van-nav-bar {\r\n\tbackground: transparent;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}