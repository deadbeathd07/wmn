{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  methods: {\n    getAttrs(arr1, arr2, arr3, date) {\n      var calendar = arr1.map(elem => {\n        var fillMode = 'solid';\n        if (new Date(elem.date).getTime() > date.getTime()) {\n          fillMode = 'light';\n        }\n        return {\n          highlight: {\n            color: 'product-pink',\n            fillMode: fillMode\n          },\n          dates: new Date(elem.date)\n        };\n      });\n      var ovulation = arr2.map(elem => {\n        return {\n          dot: {\n            class: 'ovulation'\n          },\n          dates: [new Date(elem.date)]\n        };\n      });\n      var fertileDates = arr3.map(elem => {\n        return {\n          dot: {\n            class: 'fertile'\n          },\n          dates: [new Date(elem.date)]\n        };\n      });\n      var currentDate = {\n        highlight: {\n          class: 'today'\n        },\n        dates: new Date()\n      };\n      return [...calendar, ...ovulation, ...fertileDates];\n    },\n    getAttrsWithNotes(arr1, arr2, arr3, arr4, date) {\n      var dates = this.getAttrs(arr1, arr2, arr3, date);\n      var notes = arr4.map(elem => {\n        if (elem.symptoms || elem.pills || elem.temperature || elem.weight || elem.water || elem.notes || elem.mood) {\n          return {\n            dot: {\n              class: 'notes'\n            },\n            dates: [new Date(elem.date)]\n          };\n        }\n      });\n\n      // // ---------------------------------------------------------\n      // // If you need more notes dots, you can use this\n\n      var redNotes = arr4.map(elem => {\n        if (elem.sexual_act_protected) {\n          return {\n            dot: {\n              class: 'protected'\n            },\n            dates: [new Date(elem.date)]\n          };\n        }\n      });\n      var redConturNotes = arr4.map(elem => {\n        if (elem.sexual_act_unprotected) {\n          return {\n            dot: {\n              class: 'unprotected'\n            },\n            dates: [new Date(elem.date)]\n          };\n        }\n      });\n      // let grayNotes = arr2.map(elem => {\n      // \tif (elem.pills || elem.temperature) {\n      // \t\treturn {\n      // \t\t\tdot: {\n      // \t\t\t\tstyle: {\n      // \t\t\t\t\tbackgroundColor: 'gray',\n      // \t\t\t\t},\n      // \t\t\t},\n      // \t\t\tdates: [new Date(elem.date)],\n      // \t\t};\n      // \t}\n      // });\n\n      // let blueNotes = arr2.map(elem => {\n      // \tif (elem.weight || elem.water) {\n      // \t\treturn {\n      // \t\t\tdot: {\n      // \t\t\t\tstyle: {\n      // \t\t\t\t\tbackgroundColor: 'blue',\n      // \t\t\t\t},\n      // \t\t\t},\n      // \t\t\tdates: [new Date(elem.date)],\n      // \t\t};\n      // \t}\n      // });\n\n      // let yellowNotes = arr2.map(elem => {\n      // \tif (elem.notes || elem.mood) {\n      // \t\treturn {\n      // \t\t\tdot: {\n      // \t\t\t\tstyle: {\n      // \t\t\t\t\tbackgroundColor: 'yellow',\n      // \t\t\t\t},\n      // \t\t\t},\n      // \t\t\tdates: [new Date(elem.date)],\n      // \t\t};\n      // \t}\n      // });\n      // return [\n      // \t...dates,\n      // \t...redNotes,\n      // \t...grayNotes,\n      // \t...blueNotes,\n      // \t...yellowNotes,\n      // ];\n      // // ---------------------------------------------------------\n\n      // return [\n      // \t...dates,\n      // \t...redNotes,\n      // \t...grayNotes,\n      // \t...blueNotes,\n      // \t...yellowNotes,\n      // ];\n\n      return [...dates, ...notes, ...redNotes, ...redConturNotes];\n    },\n    doesHaveDate(arr, date) {\n      var flag = -1;\n      for (var i = 0; i < arr.length; i++) {\n        if (arr[i].date == date) {\n          flag = i;\n        }\n      }\n      return flag;\n    },\n    sortDates(arr) {\n      return arr.sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\n    },\n    addIndexDay(arr) {\n      var result = [];\n      var arrDates = arr.map(elem => new Date(elem.date).getTime());\n      var day = 24 * 3600 * 1000;\n      result.push({\n        date: arr[0].date,\n        date_index: 0\n      });\n      for (var i = 1, j = 1; i < arr.length; i++, j++) {\n        if (arrDates[i] - arrDates[i - 1] <= day) {\n          result.push({\n            date: arr[i].date,\n            date_index: j\n          });\n          // } else if (\n          // \tarrDates[i] - arrDates[i - 1] > day &&\n          // \tarrDates[i + 1] - arrDates[i] <= day\n          // ) {\n          // \tj = 0;\n          // \tresult.push({ date: arr[i].date, date_index: j });\n          // } else {\n          // \tj = 0;\n          // \tresult.push({ date: arr[i].date, date_index: j });\n        } else {\n          j = 0;\n          result.push({\n            date: arr[i].date,\n            date_index: j\n          });\n        }\n      }\n      return result;\n    }\n  }\n};","map":{"version":3,"names":["methods","getAttrs","arr1","arr2","arr3","date","calendar","map","elem","fillMode","Date","getTime","highlight","color","dates","ovulation","dot","class","fertileDates","currentDate","getAttrsWithNotes","arr4","notes","symptoms","pills","temperature","weight","water","mood","redNotes","sexual_act_protected","redConturNotes","sexual_act_unprotected","doesHaveDate","arr","flag","i","length","sortDates","sort","a","b","addIndexDay","result","arrDates","day","push","date_index","j"],"sources":["D:/working/wmn-calendar.itserve.es/src/mixins/calendar-functions.js"],"sourcesContent":["export default {\r\n\tmethods: {\r\n\t\tgetAttrs(arr1, arr2, arr3, date) {\r\n\t\t\tlet calendar = arr1.map(elem => {\r\n\t\t\t\tlet fillMode = 'solid';\r\n\t\t\t\tif (new Date(elem.date).getTime() > date.getTime()) {\r\n\t\t\t\t\tfillMode = 'light';\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\thighlight: {\r\n\t\t\t\t\t\tcolor: 'product-pink',\r\n\t\t\t\t\t\tfillMode: fillMode,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdates: new Date(elem.date),\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tlet ovulation = arr2.map(elem => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdot: {\r\n\t\t\t\t\t\tclass: 'ovulation',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdates: [new Date(elem.date)],\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tlet fertileDates = arr3.map(elem => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdot: {\r\n\t\t\t\t\t\tclass: 'fertile',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdates: [new Date(elem.date)],\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tlet currentDate = {\r\n\t\t\t\thighlight: {\r\n\t\t\t\t\tclass: 'today',\r\n\t\t\t\t},\r\n\t\t\t\tdates: new Date(),\r\n\t\t\t};\r\n\r\n\t\t\treturn [...calendar, ...ovulation, ...fertileDates];\r\n\t\t},\r\n\t\tgetAttrsWithNotes(arr1, arr2, arr3, arr4, date) {\r\n\t\t\tlet dates = this.getAttrs(arr1, arr2, arr3, date);\r\n\r\n\t\t\tlet notes = arr4.map(elem => {\r\n\t\t\t\tif (\r\n\t\t\t\t\telem.symptoms ||\r\n\t\t\t\t\telem.pills ||\r\n\t\t\t\t\telem.temperature ||\r\n\t\t\t\t\telem.weight ||\r\n\t\t\t\t\telem.water ||\r\n\t\t\t\t\telem.notes ||\r\n\t\t\t\t\telem.mood\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tdot: {\r\n\t\t\t\t\t\t\tclass: 'notes',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdates: [new Date(elem.date)],\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// // ---------------------------------------------------------\r\n\t\t\t// // If you need more notes dots, you can use this\r\n\r\n\t\t\tlet redNotes = arr4.map(elem => {\r\n\t\t\t\tif (elem.sexual_act_protected) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tdot: {\r\n\t\t\t\t\t\t\tclass: 'protected',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdates: [new Date(elem.date)],\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tlet redConturNotes = arr4.map(elem => {\r\n\t\t\t\tif (elem.sexual_act_unprotected) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tdot: {\r\n\t\t\t\t\t\t\tclass: 'unprotected',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdates: [new Date(elem.date)],\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// let grayNotes = arr2.map(elem => {\r\n\t\t\t// \tif (elem.pills || elem.temperature) {\r\n\t\t\t// \t\treturn {\r\n\t\t\t// \t\t\tdot: {\r\n\t\t\t// \t\t\t\tstyle: {\r\n\t\t\t// \t\t\t\t\tbackgroundColor: 'gray',\r\n\t\t\t// \t\t\t\t},\r\n\t\t\t// \t\t\t},\r\n\t\t\t// \t\t\tdates: [new Date(elem.date)],\r\n\t\t\t// \t\t};\r\n\t\t\t// \t}\r\n\t\t\t// });\r\n\r\n\t\t\t// let blueNotes = arr2.map(elem => {\r\n\t\t\t// \tif (elem.weight || elem.water) {\r\n\t\t\t// \t\treturn {\r\n\t\t\t// \t\t\tdot: {\r\n\t\t\t// \t\t\t\tstyle: {\r\n\t\t\t// \t\t\t\t\tbackgroundColor: 'blue',\r\n\t\t\t// \t\t\t\t},\r\n\t\t\t// \t\t\t},\r\n\t\t\t// \t\t\tdates: [new Date(elem.date)],\r\n\t\t\t// \t\t};\r\n\t\t\t// \t}\r\n\t\t\t// });\r\n\r\n\t\t\t// let yellowNotes = arr2.map(elem => {\r\n\t\t\t// \tif (elem.notes || elem.mood) {\r\n\t\t\t// \t\treturn {\r\n\t\t\t// \t\t\tdot: {\r\n\t\t\t// \t\t\t\tstyle: {\r\n\t\t\t// \t\t\t\t\tbackgroundColor: 'yellow',\r\n\t\t\t// \t\t\t\t},\r\n\t\t\t// \t\t\t},\r\n\t\t\t// \t\t\tdates: [new Date(elem.date)],\r\n\t\t\t// \t\t};\r\n\t\t\t// \t}\r\n\t\t\t// });\r\n\t\t\t// return [\r\n\t\t\t// \t...dates,\r\n\t\t\t// \t...redNotes,\r\n\t\t\t// \t...grayNotes,\r\n\t\t\t// \t...blueNotes,\r\n\t\t\t// \t...yellowNotes,\r\n\t\t\t// ];\r\n\t\t\t// // ---------------------------------------------------------\r\n\r\n\t\t\t// return [\r\n\t\t\t// \t...dates,\r\n\t\t\t// \t...redNotes,\r\n\t\t\t// \t...grayNotes,\r\n\t\t\t// \t...blueNotes,\r\n\t\t\t// \t...yellowNotes,\r\n\t\t\t// ];\r\n\r\n\t\t\treturn [...dates, ...notes, ...redNotes, ...redConturNotes];\r\n\t\t},\r\n\t\tdoesHaveDate(arr, date) {\r\n\t\t\tlet flag = -1;\r\n\t\t\tfor (let i = 0; i < arr.length; i++) {\r\n\t\t\t\tif (arr[i].date == date) {\r\n\t\t\t\t\tflag = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn flag;\r\n\t\t},\r\n\t\tsortDates(arr) {\r\n\t\t\treturn arr.sort(\r\n\t\t\t\t(a, b) => new Date(a.date).getTime() - new Date(b.date).getTime()\r\n\t\t\t);\r\n\t\t},\r\n\t\taddIndexDay(arr) {\r\n\t\t\tlet result = [];\r\n\t\t\tlet arrDates = arr.map(elem => new Date(elem.date).getTime());\r\n\t\t\tlet day = 24 * 3600 * 1000;\r\n\t\t\tresult.push({ date: arr[0].date, date_index: 0 });\r\n\t\t\tfor (let i = 1, j = 1; i < arr.length; i++, j++) {\r\n\t\t\t\tif (arrDates[i] - arrDates[i - 1] <= day) {\r\n\t\t\t\t\tresult.push({ date: arr[i].date, date_index: j });\r\n\t\t\t\t\t// } else if (\r\n\t\t\t\t\t// \tarrDates[i] - arrDates[i - 1] > day &&\r\n\t\t\t\t\t// \tarrDates[i + 1] - arrDates[i] <= day\r\n\t\t\t\t\t// ) {\r\n\t\t\t\t\t// \tj = 0;\r\n\t\t\t\t\t// \tresult.push({ date: arr[i].date, date_index: j });\r\n\t\t\t\t\t// } else {\r\n\t\t\t\t\t// \tj = 0;\r\n\t\t\t\t\t// \tresult.push({ date: arr[i].date, date_index: j });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tj = 0;\r\n\t\t\t\t\tresult.push({ date: arr[i].date, date_index: j });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t},\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}